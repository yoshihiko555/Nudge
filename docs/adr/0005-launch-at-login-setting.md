# ADR-0005: macOS ログイン項目設定の追加

## 決定

1. 設定に「ログイン時に起動」(`launch_at_login`) を追加し、保存時に macOS のログイン項目へ追加/削除する
2. macOS 以外は未対応とし、操作はエラーを返す

## 理由

- メニューバー常駐アプリのため、ログイン時起動のニーズが高い
- 保存時に適用することでユーザー意図が明確になり、不要な自動化許可の再提示を避けられる
- 既存の設定保存フローに沿って最小の変更で追加できる

## 代替案

- 起動時に常に反映する → 自動化許可のダイアログが毎回出る可能性があるため不採用
- LaunchAgent / SMAppService を用いる → 追加実装と配布設定が増えるため今回は見送り
- Wails ランタイムの専用 API を利用する → 該当 API がないため不採用

## 影響

- `config.json` に `launch_at_login` を追加し、`config.example.json` を更新
- 設定画面にチェックボックスを追加
- 保存時に `osascript` + `System Events` でログイン項目を操作（アプリバンドルパスを利用）
- macOS 以外は未対応のため、設定値は保存できるが実行はエラーになる
